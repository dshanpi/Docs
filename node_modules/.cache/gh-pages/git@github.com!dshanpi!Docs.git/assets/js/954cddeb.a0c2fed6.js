"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5726],{35115:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var t=s(85893),r=s(11151);const i={sidebar_position:2},a="QT\u5e94\u7528\u73af\u5883\u90e8\u7f72",c={id:"T113s3-SdNand/part4/QtApplicationEnvironmentDeployment",title:"QT\u5e94\u7528\u73af\u5883\u90e8\u7f72",description:"\u672c\u7ae0\u8282\u5c06\u8bb2\u89e3\u5982\u4f55\u5728Tina5.0-SDK\u4e3a T113s3ProV1.3SdNand \u5f00\u53d1\u677f\u90e8\u7f72QT\u5e94\u7528\u73af\u5883\u3002",source:"@site/docs/T113s3-SdNand/part4/02-QtApplicationEnvironmentDeployment.md",sourceDirName:"T113s3-SdNand/part4",slug:"/T113s3-SdNand/part4/QtApplicationEnvironmentDeployment",permalink:"/docs/T113s3-SdNand/part4/QtApplicationEnvironmentDeployment",draft:!1,unlisted:!1,editUrl:"https://github.com/100askTeam/linuxboard-docs/tree/main/docs/T113s3-SdNand/part4/02-QtApplicationEnvironmentDeployment.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"t113s3sdnandSidebar",previous:{title:"HelloWorld\u5feb\u901f\u5165\u95e8",permalink:"/docs/T113s3-SdNand/part4/HelloWorld"},next:{title:"\u5b66\u54581-\u5f00\u53d1\u793a\u4f8b",permalink:"/docs/category/\u5b66\u54581-\u5f00\u53d1\u793a\u4f8b"}},d={},l=[{value:"QT\u5e93\u914d\u7f6e",id:"qt\u5e93\u914d\u7f6e",level:2},{value:"\u7f16\u8bd1QT\u5e93",id:"\u7f16\u8bd1qt\u5e93",level:2},{value:"\u7f16\u8bd1QT\u793a\u4f8b\u7a0b\u5e8f",id:"\u7f16\u8bd1qt\u793a\u4f8b\u7a0b\u5e8f",level:2},{value:"\u8fd0\u884cqt\u793a\u4f8b\u7a0b\u5e8f",id:"\u8fd0\u884cqt\u793a\u4f8b\u7a0b\u5e8f",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",img:"img",p:"p",pre:"pre",strong:"strong",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"qt\u5e94\u7528\u73af\u5883\u90e8\u7f72",children:"QT\u5e94\u7528\u73af\u5883\u90e8\u7f72"}),"\n",(0,t.jsx)(n.p,{children:"\u672c\u7ae0\u8282\u5c06\u8bb2\u89e3\u5982\u4f55\u5728Tina5.0-SDK\u4e3a T113s3ProV1.3SdNand \u5f00\u53d1\u677f\u90e8\u7f72QT\u5e94\u7528\u73af\u5883\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"qt\u5e93\u914d\u7f6e",children:"QT\u5e93\u914d\u7f6e"}),"\n",(0,t.jsx)(n.p,{children:"\u5728 ubuntu \u4e0a\uff0c\u8fdb\u5165SDK\u6e90\u7801\u6839\u76ee\u5f55\u8def\u5f84\uff0c\u6267\u884c\u4ee5\u4e0b\u6307\u4ee4\uff0c\u8fdb\u5165 buildroot \u914d\u7f6e\u754c\u9762\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"./build.sh buildroot_menuconfig\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u627e\u5230 ",(0,t.jsx)(n.strong,{children:"Target packages"}),"\uff0c"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241129110613872",src:s(14013).Z+"",width:"2558",height:"1278"})}),"\n",(0,t.jsxs)(n.p,{children:["\u56de\u8f66\u8fdb\u5165\uff0c\u627e\u5230 ",(0,t.jsx)(n.strong,{children:"Graphic libraries and applications"}),"\uff0c"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241129110710196",src:s(7878).Z+"",width:"2558",height:"1278"})}),"\n",(0,t.jsxs)(n.p,{children:["\u8fdb\u5165\uff0c\u627e\u5230 ",(0,t.jsx)(n.strong,{children:"QT5"})," \uff0c\u70b9\u51fb\u952e\u76d8 y \u952e\uff0c\u9009\u4e0a\u3002"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241129110747924",src:s(77358).Z+"",width:"2558",height:"1278"})}),"\n",(0,t.jsx)(n.p,{children:"\u7ee7\u7eed\u56de\u8f66\u8fdb\u5165 \uff0c\u9009\u4e0a\u4ee5\u4e0b\u76f8\u5e94\u7684 qt \u5e93\uff0c"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241129111008771",src:s(40601).Z+"",width:"2558",height:"1278"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241129111024657",src:s(50736).Z+"",width:"2558",height:"1278"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241129111036359",src:s(97894).Z+"",width:"2558",height:"1278"})}),"\n",(0,t.jsx)(n.p,{children:"\u4fdd\u5b58\u9000\u51fa\u81f3SDK\u6e90\u7801\u6839\u76ee\u5f55\u8def\u5f84\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"\u7f16\u8bd1qt\u5e93",children:"\u7f16\u8bd1QT\u5e93"}),"\n",(0,t.jsx)(n.p,{children:"\u5728SDK\u6e90\u7801\u6839\u76ee\u5f55\u8def\u5f84\u4e0b\uff0c\u6267\u884c\u4ee5\u4e0b\u6307\u4ee4\uff0c\u7f16\u8bd1qt\u5e93\uff0c"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"./build.sh\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u7b49\u5f85\u7f16\u8bd1\u5b8c\u6210\uff0c\u6267\u884c\u6253\u5305\u64cd\u4f5c\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"./build.sh pack\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u955c\u50cf\u4fdd\u5b58\u8def\u5f84\u5728 SDK/tina5sdk-bsp/out/t113/evb1_auto/buildroot/ \uff0c\u5982\u4e0b\u6240\u793a"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241129111635178",src:s(23250).Z+"",width:"1379",height:"359"})}),"\n",(0,t.jsx)(n.h2,{id:"\u7f16\u8bd1qt\u793a\u4f8b\u7a0b\u5e8f",children:"\u7f16\u8bd1QT\u793a\u4f8b\u7a0b\u5e8f"}),"\n",(0,t.jsx)(n.p,{children:"\u9700\u8981\u5728\u7f16\u8bd1qt\u5e93\u4e4b\u540e\uff0c\u518d\u53bb\u7f16\u8bd1qt\u793a\u4f8b\u7a0b\u5e8f\uff0c\u5426\u5219\u4f1a\u7f16\u8bd1\u5931\u8d25\u3002\u5728\u5f53\u524d\u8def\u5f84\u4e0b\uff0c\u6267\u884c\u4ee5\u4e0b\u6307\u4ee4\uff0c\u8fdb\u5165buildroot\u914d\u7f6e\u754c\u9762\uff0c"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"./build.sh buildroot_menuconfig\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u627e\u5230 ",(0,t.jsx)(n.strong,{children:"Target packages"}),"\uff0c"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241129112150924",src:s(80188).Z+"",width:"2558",height:"1278"})}),"\n",(0,t.jsxs)(n.p,{children:["\u56de\u8f66\u8fdb\u5165\uff0c\u627e\u5230 ",(0,t.jsx)(n.strong,{children:"allwinner platform private package select"}),"\uff0c"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241129112532905",src:s(95106).Z+"",width:"2558",height:"1278"})}),"\n",(0,t.jsxs)(n.p,{children:["\u7ee7\u7eed\u8fdb\u5165\u4e0b\u4e00\u5c42\uff0c\u627e\u5230 ",(0,t.jsx)(n.strong,{children:"qt_demo"}),"\uff0c\u56de\u8f66\u8fdb\u5165\u3002"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241129112720140",src:s(19758).Z+"",width:"2558",height:"1278"})}),"\n",(0,t.jsx)(n.p,{children:"\u70b9\u51fb\u952e\u76d8 y \u952e\uff0c\u9009\u4e0a\u793a\u4f8b\u7a0b\u5e8f\u3002"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241129112750511",src:s(43067).Z+"",width:"2558",height:"1278"})}),"\n",(0,t.jsx)(n.p,{children:"\u4fdd\u5b58\u9000\u51fa\u81f3SDK\u6e90\u7801\u6839\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u7740\u5728\u5f53\u524d\u76ee\u5f55\u6267\u884c\u7f16\u8bd1\u3001\u6253\u5305\u64cd\u4f5c\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"./build.sh\r\n./build.sh pack\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u6253\u5305\u955c\u50cf\u540e\uff0c\u53c2\u8003 \u5feb\u901f\u542f\u52a8\u4e2d \u7684\u300a\u66f4\u65b0\u7cfb\u7edf\u56fa\u4ef6\u300b\u7ae0\u8282\uff0c\u70e7\u5f55\u955c\u50cf\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"\u8fd0\u884cqt\u793a\u4f8b\u7a0b\u5e8f",children:"\u8fd0\u884cqt\u793a\u4f8b\u7a0b\u5e8f"}),"\n",(0,t.jsx)(n.p,{children:"\u542f\u52a8\u5f00\u53d1\u677f\u540e\uff0c\u5f00\u53d1\u677f\u9ed8\u8ba4\u4f1a\u542f\u52a8 S70launcher \u811a\u672c\uff0c\u8fdb\u884c\u521d\u59cb\u5316qt\u73af\u5883\uff0c\u5e76\u6267\u884c\u793a\u4f8b\u7a0b\u5e8f\uff0c\u811a\u672c\u4fdd\u5b58\u8def\u5f84\u5728 /etc/init.d/\uff0c"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241129115958093",src:s(66057).Z+"",width:"1864",height:"196"})}),"\n",(0,t.jsx)(n.p,{children:"\u811a\u672c\u5185\u5bb9\u5982\u4e0b\uff0c"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'#!/bin/sh\r\n#\r\n# Start the launcher\r\n#\r\n\r\ncase "$1" in\r\n    start)\r\n                if [ ! -f "/usr/bin/Launcher" ];then\r\n                        exit 1\r\n                fi\r\n\r\n                if [ -d "/usr/local/Qt_5.12.5" ];then\r\n                        export  QTDIR=/usr/local/Qt_5.12.5\r\n                else\r\n                        export  QTDIR=/usr/lib\r\n                fi\r\n\r\n                if [ -d $QTDIR ];then\r\n\r\n                        export  QT_ROOT=$QTDIR\r\n                        export  PATH=$QTDIR/bin:$PATH\r\n                        export  LD_LIBRARY_PATH=$QTDIR/lib:/usr/lib/cedarx/:$LD_LIBRARY_PATH\r\n\r\n                        export QT_QPA_PLATFORM_PLUGIN_PATH=$QT_ROOT/plugins\r\n                        export QT_QPA_PLATFORM=linuxfb:tty=/dev/fb0\r\n                        export QT_QPA_FONTDIR=$QT_ROOT/fonts\r\n\r\n                        TouchDevice=fts_ts\r\n                        for InputDevices in /sys/class/input/input*\r\n                        do\r\n                                DeviceName=cat $InputDevices/name\r\n                                if [ "$DeviceName" == "$TouchDevice" ];then\r\n                                        TouchDeviceNum=${InputDevices##*input}\r\n                                        export QT_QPA_EVDEV_TOUCHSCREEN_PARAMETERS=/dev/input/event$TouchDeviceNum\r\n                                        echo "add "/dev/input/event$TouchDeviceNum "to Qt Application."\r\n                                        break\r\n                                fi\r\n                        done\r\n                        if [ ! -n "$TouchDeviceNum" ]; then\r\n                                echo "Error:Input device $TouchDevice can not be found,plz check it!"\r\n                        fi\r\n\r\n                        if [ -d "/usr/local/Qt_5.12.5" ];then\r\n                                export QT_QPA_PLATFORM=eglfs\r\n                                export QT_QPA_GENERIC_PLUGINS=evdevtouch\r\n                                export QT_QPA_EGLFS_INTEGRATION=eglfs_mali\r\n                        else\r\n                                export QT_QPA_FONTDIR=/usr/lib/fonts\r\n                                export QT_QPA_GENERIC_PLUGINS=tslib\r\n                                #export QT_QPA_GENERIC_PLUGINS=evdevmouse:/dev/input/event4\r\n                                export TSLIB_FBDEVICE=/dev/fb0\r\n                                export TSLIB_CONSOLEDEVICE=none\r\n                                export TSLIB_TSDEVICE=/dev/input/event3\r\n                                export TSLIB_CONFFILE=/etc/ts.conf\r\n                                export TSLIB_CALIBFILE=/etc/pointercal\r\n                                export TSLIB_PLUGINDIR=/usr/lib/ts\r\n                        fi\r\n\r\n                        export QWS_MOUSE_PROTO=\r\n                        mkdir -p /dev/shm\r\n                        ulimit -c unlimited\r\n                        Launcher &\r\n                fi\r\n        ;;\r\n    stop)]\r\n        ;;\r\n    *)\r\n        echo "Usage: $0 {start}"\r\n        exit 1\r\n        ;;\r\nesac\r\n\r\nexit 0\n'})}),"\n",(0,t.jsxs)(n.p,{children:["\u53ef\u4ee5\u5728\u8be5\u811a\u672c\u4e2d\u4fee\u6539\u6216\u8005\u914d\u7f6e",(0,t.jsx)(n.strong,{children:"\u663e\u793a\u8bbe\u5907\u8282\u70b9"}),"\u548c",(0,t.jsx)(n.strong,{children:"\u89e6\u6478\u8bbe\u5907\u8282\u70b9"}),"\u3002"]})]})}function p(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},14013:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/image-20241129110613872-a4fed8d980e4ac79de4487fb9b8c1f33.png"},7878:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/image-20241129110710196-70f82bce9c05063e4a244607db48afde.png"},77358:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/image-20241129110747924-6a89fc3712108cb267f342c202c15547.png"},40601:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/image-20241129111008771-af696426c998da8e8ef0c516ac253955.png"},50736:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/image-20241129111024657-d38cd29a96abb6a00aa56439109ac204.png"},97894:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/image-20241129111036359-b10f12bb58a7e2dbc52fed9fcd3acc87.png"},23250:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/image-20241129111635178-d4fa1dbdcd089a38221743908f79ab94.png"},80188:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/image-20241129112150924-8dbce163cbaa2a242f7d50529daa19f6.png"},95106:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/image-20241129112532905-b1afcee3942598d844b3be32c4e706a7.png"},19758:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/image-20241129112720140-381f5ec5be952f769e98c120951a7b4b.png"},43067:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/image-20241129112750511-77bd90570743fbc861bb60647e27d372.png"},66057:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/image-20241129115958093-1b224d0ded1307306a3f1370cb295681.png"},11151:(e,n,s)=>{s.d(n,{Z:()=>c,a:()=>a});var t=s(67294);const r={},i=t.createContext(r);function a(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);