"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3095],{10712:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>m,frontMatter:()=>d,metadata:()=>t,toc:()=>l});var a=r(85893),i=r(11151);const d={sidebar_position:7},s="CVBS\u6444\u50cf\u5934\u6293\u56fe",t={id:"T113s3-SdNand/part2/CVBSCameraCapture",title:"CVBS\u6444\u50cf\u5934\u6293\u56fe",description:"\u672c\u7ae0\u8282\u5c06\u8bb2\u89e3\u5982\u4f55\u5728 T113s3ProV1.3SdNand \u5f00\u53d1\u677f\u4e0a\u4f7f\u7528cvbs\u6444\u50cf\u5934\u6293\u53d6\u56fe\u50cf\u6570\u636e\u3002",source:"@site/docs/T113s3-SdNand/part2/07-CVBSCameraCapture.md",sourceDirName:"T113s3-SdNand/part2",slug:"/T113s3-SdNand/part2/CVBSCameraCapture",permalink:"/en/docs/T113s3-SdNand/part2/CVBSCameraCapture",draft:!1,unlisted:!1,editUrl:"https://github.com/100askTeam/linuxboard-docs/tree/main/docs/T113s3-SdNand/part2/07-CVBSCameraCapture.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"t113s3sdnandSidebar",previous:{title:"\u4ee5\u592a\u7f51\u6d4b\u8bd5",permalink:"/en/docs/T113s3-SdNand/part2/EthernetCommunication"},next:{title:"Tina-SDK\u5f00\u53d1",permalink:"/en/docs/category/tina-sdk\u5f00\u53d1-5"}},c={},l=[{value:"\u51c6\u5907\u5de5\u4f5c",id:"\u51c6\u5907\u5de5\u4f5c",level:2},{value:"\u786c\u4ef6\u8fde\u63a5",id:"\u786c\u4ef6\u8fde\u63a5",level:2},{value:"TVD\u7b80\u8ff0",id:"tvd\u7b80\u8ff0",level:2},{value:"TVD\u529f\u80fd\u7279\u6027",id:"tvd\u529f\u80fd\u7279\u6027",level:3},{value:"\u9a71\u52a8\u6846\u67b6",id:"\u9a71\u52a8\u6846\u67b6",level:3},{value:"\u767b\u5f55\u4e32\u53e3\u7ec8\u7aef",id:"\u767b\u5f55\u4e32\u53e3\u7ec8\u7aef",level:2},{value:"\u83b7\u53d6\u6293\u56fe\u5de5\u5177",id:"\u83b7\u53d6\u6293\u56fe\u5de5\u5177",level:2},{value:"\u6293\u56fe\u6d4b\u8bd5",id:"\u6293\u56fe\u6d4b\u8bd5",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"cvbs\u6444\u50cf\u5934\u6293\u56fe",children:"CVBS\u6444\u50cf\u5934\u6293\u56fe"}),"\n",(0,a.jsx)(n.p,{children:"\u672c\u7ae0\u8282\u5c06\u8bb2\u89e3\u5982\u4f55\u5728 T113s3ProV1.3SdNand \u5f00\u53d1\u677f\u4e0a\u4f7f\u7528cvbs\u6444\u50cf\u5934\u6293\u53d6\u56fe\u50cf\u6570\u636e\u3002"}),"\n",(0,a.jsx)(n.h2,{id:"\u51c6\u5907\u5de5\u4f5c",children:"\u51c6\u5907\u5de5\u4f5c"}),"\n",(0,a.jsx)(n.p,{children:"\u64cd\u4f5c\u4e4b\u524d\uff0c\u5148\u505a\u597d\u4ee5\u4e0b\u51c6\u5907\u3002"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u786c\u4ef6\uff1acvbs\u6444\u50cf\u5934"}),"\n",(0,a.jsxs)(n.li,{children:["\u8f6f\u4ef6\uff1a\u5168\u5fd7\u7ebf\u5237\u5de5\u5177\uff1a",(0,a.jsx)(n.a,{href:"https://gitlab.com/dongshanpi/tools/-/raw/main/AllwinnertechPhoeniSuit.zip",children:"AllwinnertechPhoeniSuit"})]}),"\n",(0,a.jsxs)(n.li,{children:["\u8f6f\u4ef6\uff1a\u5168\u5fd7USB\u70e7\u5f55\u9a71\u52a8\uff1a",(0,a.jsx)(n.a,{href:"https://gitlab.com/dongshanpi/tools/-/raw/main/AllwinnerUSBFlashDeviceDriver.zip",children:"AllwinnerUSBFlashDeviceDriver"})]}),"\n",(0,a.jsx)(n.li,{children:"\u8f6f\u4ef6\uff1a\u955c\u50cf\uff08\u652f\u6301tvd\uff09\uff1at113_linux_evb1_auto_uart0.img"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"\u786c\u4ef6\u8fde\u63a5",children:"\u786c\u4ef6\u8fde\u63a5"}),"\n",(0,a.jsx)(n.p,{children:"\u8981\u4f7f\u7528cvbs\u6444\u50cf\u5934\u83b7\u53d6\u56fe\u50cf\u6570\u636e\uff0c\u8fd8\u9700\u53e6\u5916\u8d2d\u4e70cvbs\u6444\u50cf\u5934\u3002\u4e0b\u9762\u56fe\u7247\u662f\u5c06cvbs\u6444\u50cf\u5934\u8fde\u63a5\u5230 T113s3ProV1.3SdNand  \u5f00\u53d1\u677f\u7684\u6307\u5357\u3002"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"image-20241128100657812",src:r(82524).Z+"",width:"1457",height:"1091"})}),"\n",(0,a.jsx)(n.h2,{id:"tvd\u7b80\u8ff0",children:"TVD\u7b80\u8ff0"}),"\n",(0,a.jsx)(n.h3,{id:"tvd\u529f\u80fd\u7279\u6027",children:"TVD\u529f\u80fd\u7279\u6027"}),"\n",(0,a.jsx)(n.p,{children:"\u5728\u5168\u5fd7\u5185\u90e8\uff0c\u901a\u5e38\u628a CVBS IN \u6a21\u5757\u79f0\u4e3a TVD \u6216\u8005 TVIN \u6a21\u5757\uff0c\u662f\u4e00\u4e2a\u7528\u4e8e\u91c7\u96c6\u6a21\u62df CVBS \u89c6\u9891\u7684\u786c\u4ef6\u6a21\u5757\uff0c\u53ef\u5c06\u8f93\u5165\u7684 CVBS \u4fe1\u53f7\u6216 YPbPr \u4fe1\u53f7\u8f6c\u6362\u6210 YUV \u4fe1\u53f7\u3002"}),"\n",(0,a.jsx)(n.h3,{id:"\u9a71\u52a8\u6846\u67b6",children:"\u9a71\u52a8\u6846\u67b6"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"image-20240826152237248",src:r(73242).Z+"",width:"998",height:"737"})}),"\n",(0,a.jsx)(n.p,{children:"tvd \u9a71\u52a8\u53ea\u662f\u8d1f\u8d23\u628atvd\u7684\u786c\u4ef6\u63cf\u8ff0\u5b8c\u6210\u5e76\u6ce8\u518c\u8fdbV4L2\u6846\u67b6\uff0c\u5177\u4f53\u5bf9tvd\u7684\u4f7f\u7528\u8fd8\u662f\u653e\u5728\u7528\u6237\u6001\u7684\u5e94\u7528\u5c42\u3002\u8fd9\u91cc\u5f52\u7eb3\u5173\u4e8e\u7528\u6237\u6001\u64cd\u4f5c\u4f7f\u7528tvd\u6a21\u5757\u7684\u6d41\u7a0b\u3002"}),"\n",(0,a.jsx)(n.h2,{id:"\u767b\u5f55\u4e32\u53e3\u7ec8\u7aef",children:"\u767b\u5f55\u4e32\u53e3\u7ec8\u7aef"}),"\n",(0,a.jsx)(n.p,{children:"\u4e0a\u8ff0\u786c\u4ef6\u8fde\u63a5\u6210\u529f\u540e\uff0c\u5982\u679c\u4e0d\u6e05\u695a\u5982\u4f55\u8fde\u63a5\u5f00\u53d1\u677f\u767b\u5f55\u4e32\u53e3\uff0c\u8bf7\u53c2\u8003 \u5feb\u901f\u542f\u52a8 \u4e2d\u7684\u300a\u542f\u52a8\u5f00\u53d1\u677f\u300b\u7ae0\u8282\u3002"}),"\n",(0,a.jsx)(n.h2,{id:"\u83b7\u53d6\u6293\u56fe\u5de5\u5177",children:"\u83b7\u53d6\u6293\u56fe\u5de5\u5177"}),"\n",(0,a.jsx)(n.p,{children:"\u5728 ubuntu \u4e0a\uff0c\u6267\u884c\u4ee5\u4e0b\u6307\u4ee4\uff0c\u83b7\u53d6\u8d44\u6e90\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"git clone https://e.coding.net/weidongshan/tina5/APP-DevExample.git\n"})}),"\n",(0,a.jsxs)(n.p,{children:["\u4e0b\u8f7d\u7684\u8d44\u6e90\u91cc\u9762\uff0c\u6e90\u7801\u5728\u6587\u4ef6\u5939 ",(0,a.jsx)(n.code,{children:"V4L2/camera_demo_v1"}),"\u3002"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ubuntu@dshanpi:~/meihao/APP-DevExample/V4L2/camera_demo_v1$ tree -L 1\r\n.\r\n\u251c\u2500\u2500 camerademo   #\u4e00\u4e2a\u51c6\u5907\u597d\u7684\u5e94\u7528\u7a0b\u5e8f\r\n\u251c\u2500\u2500 makefile\r\n\u251c\u2500\u2500 Makefile\r\n\u251c\u2500\u2500 README.md\r\n\u2514\u2500\u2500 src\r\n\r\n1 directory, 4 files\n"})}),"\n",(0,a.jsxs)(n.p,{children:["\u8fd9\u4e2a\u6587\u4ef6\u5939\u4e0b\u7684",(0,a.jsx)(n.code,{children:"README.md"})," \u6587\u6863\u91cc\u6709\u7f16\u8bd1\u6293\u56fe\u5de5\u5177\u7684\u4f7f\u7528\u6559\u7a0b\u3002"]}),"\n",(0,a.jsx)(n.h2,{id:"\u6293\u56fe\u6d4b\u8bd5",children:"\u6293\u56fe\u6d4b\u8bd5"}),"\n",(0,a.jsx)(n.p,{children:"camerademo \u6293\u56fe\u5de5\u5177\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528\u7684\u8bbe\u5907\u53f7\u662f/dev/video0\uff0c\u67e5\u770b\u5f00\u53d1\u677f\u7684tvd\u8bbe\u5907\u8282\u70b9\u662f\u5426\u6ee1\u8db3\u9ed8\u8ba4\u8282\u70b9\u3002\u6253\u5f00\u4e32\u53e3\u7ec8\u7aef\uff0c\u6267\u884c\u4ee5\u4e0b\u6307\u4ee4\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ls /dev/\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u53ef\u4ee5\u770b\u5230\u8bbe\u5907\u53f7\u662f /dev/video4\uff0c\u4e0d\u662f\u9ed8\u8ba4\u7684\u8bbe\u5907\u8282\u70b9 /dev/video0\uff0c\u6240\u4ee5\u4e0d\u53ef\u4ee5\u76f4\u63a5\u6267\u884c camerademo \u6307\u4ee4\u6293\u56fe\u3002"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"image-20241128103454176",src:r(38515).Z+"",width:"2174",height:"398"})}),"\n",(0,a.jsxs)(n.p,{children:["\u9700\u8981\u4f7f\u7528",(0,a.jsx)(n.code,{children:"camerademo NV21 640 480 30 bmp /tmp 5 4"}),"\uff0c\u6765\u6307\u5b9a\u8bbe\u5907\u53f7\u4e3a/dev/video4\u3002\u6267\u884c\u6307\u4ee4\uff1a"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"camerademo NV21 720 480 30 bmp /tmp 5\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# ./camerademo NV21 720 480 30 bmp /tmp 5 4\r\n[1970-01-01 00:18:05] WARNING: awplayer <cdx_log_set_level:30>: Set log level to 3\r\n[1970-01-01 00:18:05] ERROR  : awplayer <ReadPluginEntry:198>: read plugin entry adecoder-14 fail!\r\n[1970-01-01 00:18:05] ERROR  : awplayer <ReadPluginEntry:198>: read plugin entry vdecoder-10 fail!\r\nINFO   : cedarc <CedarPluginVDInit:80>: register h264 decoder success!\r\nINFO   : cedarc <CedarPluginVDInit:84>: register mjpeg decoder success!\r\nINFO   : cedarc <CedarPluginVDInit:86>: register mpeg2 decoder success!\r\n[1970-01-01 00:18:05] WARNING: awplayer <DlOpenPlugin:112>: Invalid plugin,function CedarPluginVDInit not found.\r\nINFO   : cedarc <CedarPluginVDInit:98>: register mpeg4dx decoder success!\r\nINFO   : cedarc <CedarPluginVDInit:79>: register mpeg4H263 decoder success!\r\nINFO   : cedarc <CedarPluginVDInit:90>: register mpeg4Normal decoder success!\r\n[1970-01-01 00:18:05] ERROR  : awplayer <DlOpenPlugin:103>: dlopen 'libawwmv3.so' fail: libawwmv3.so: cannot open shared object file: No such file or directory\r\n[1970-01-01 00:18:05] ERROR  : awplayer <CdxPluginLoadList:235>: load vdecoder id vdecoder.wmv3 fail!\r\nINFO   : cedarc <CedarPluginVDInit:85>: register h265 decoder success!\r\nINFO   : cedarc <CedarPluginVDInit:73>: register vp8 decoder success!\r\n[1970-01-01 00:18:05] ERROR  : awplayer <ReadPluginEntry:198>: read plugin entry plugin-0 fail!\r\n[CAMERA]**********************************************************\r\n[CAMERA]*                                                        *\r\n[CAMERA]*              this is camera test.                      *\r\n[CAMERA]*                                                        *\r\n[CAMERA]**********************************************************\r\n[CAMERA]**********************************************************\r\n[CAMERA] open /dev/video4!\r\n[CAMERA]**********************************************************\r\n[CAMERA]**********************************************************\r\n[CAMERA] The path to data saving is /tmp.\r\n[CAMERA] The number of captured photos is 5.\r\n[CAMERA] save bmp format\r\n[CAMERA]************************[  506.457851] [tvd] vidioc_s_fmt_vid_cap:1623\r\n[  506.457851] interface=0\r\n[  506.457851] system=NTSC\r\n[  506.457851] format=0\r\n[  506.457851] output_fmt=YUV420\r\n********************************[  506.476529] [tvd] vidioc_s_fmt_vid_cap:1627\r\n[  506.476529] row=1\r\n[  506.476529] column=1\r\n[  506.476529] ch[0]=0\r\n[  506.476529] ch[1]=0\r\n[  506.476529] ch[2]=0\r\n[  506.476529] ch[3]=0\r\n**\r\n[CAMERA] Using format parame[  506.498019] [tvd] vidioc_s_fmt_vid_cap:1629\r\n[  506.498019] width=720\r\n[  506.498019] height=480\r\n[  506.498019] dev->sel=0\r\nters NV21.\r\n[CAMERA] camera pixe[  506.513595] [tvd] tvd_cagc_and_3d_config:1481 tvd0 agc auto mode\r\nlformat: NV21\r\n[CAMERA] Resoluti[  506.523037] [tvd] tvd_cagc_and_3d_config:1490 tvd0 CAGC enable:0x1\r\non size : 720 * 480\r\n[CAMERA] The photo save path is /tmp.\r\n[CAMERA] The number of photos taken [  506.540539] [tvd] tvd_cagc_and_3d_config:1517 tvd0 3d enable :0x5f100000\r\nis 5.\r\n[CAMERA] Camera capture framerate is 0/0\r\n[CAMERA] VIDIOC[  506.551252] [tvd] vidioc_streamon:1712 Out vidioc_streamon:0\r\n_S_FMT succeed\r\n[CAMERA] fmt.type = 1\r\n[CAMERA] fmt.fmt.pix.width = 720\r\n[CAMERA] fmt.fmt.pix.height = 480\r\n[CAMERA] fmt.fmt.pix.pixelformat = NV21\r\n[CAMERA] fmt.fmt.pix.field = 1\r\n[CAMERA] stream on succeed\r\n[CAMERA] camera4 capture num is [0]\r\n[  506.604952] [tvd] tvd_isr:810 In tvd_isr\r\n[CAMERA_PROMPT] the time interval from the start to the first frame is 78 ms\r\n[CAMERA] camera4 capture num is [1]\r\n[CAMERA] camera4 capture num is [2]\r\n[CAMERA] camera4 capture num is [3]\r\n[CAMERA] camera4 capture num is [4]\r\n[CAMERA] Capture thread finish\r\n[CAMERA] close /dev/video4\n"})}),"\n",(0,a.jsxs)(n.p,{children:["\u6267\u884c\u6210\u529f\u4e4b\u540e\uff0c\u56fe\u7247\u4f1a\u4fdd\u5b58\u7684\u8def\u5f84\u5728",(0,a.jsx)(n.code,{children:"/tmp"}),"\u76ee\u5f55\u4e0b\uff0c"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# ls /tmp/\r\nbmp_NV21_1.bmp    bmp_NV21_4.bmp    dnsmasq.leases    subsys\r\nbmp_NV21_2.bmp    bmp_NV21_5.bmp    fw_printenv.lock\r\nbmp_NV21_3.bmp    dbus              messages\r\n#\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u53ef\u4ee5\u901a\u8fc7ADB\u5de5\u5177\u628a\u56fe\u7247\u4f20\u81f3windows\u8fdb\u884c\u67e5\u770b\u3002"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"bmp_NV21_3",src:r(11414).Z+"",width:"720",height:"480"})})]})}function m(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},11414:(e,n,r)=>{r.d(n,{Z:()=>a});const a=r.p+"assets/images/bmp_NV21_3-c6d83a76e3deaf46b25ae96fd70feebb.bmp"},73242:(e,n,r)=>{r.d(n,{Z:()=>a});const a=r.p+"assets/images/image-20240826152237248-f23a0d3260486cc3cec109185c486b19.png"},82524:(e,n,r)=>{r.d(n,{Z:()=>a});const a=r.p+"assets/images/image-20241128100657812-ac57a7ef9b5bfd8b711849872ef0ff84.png"},38515:(e,n,r)=>{r.d(n,{Z:()=>a});const a=r.p+"assets/images/image-20241128103454176-f15238fe274916fc4f80af914827b0da.png"},11151:(e,n,r)=>{r.d(n,{Z:()=>t,a:()=>s});var a=r(67294);const i={},d=a.createContext(i);function s(e){const n=a.useContext(d);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(d.Provider,{value:n},e.children)}}}]);